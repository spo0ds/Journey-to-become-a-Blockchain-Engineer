export interface Tags {
  tag: string;
  streamId: string;
  streamType: string;
}

export interface Log extends Tags {
  logIndex: string;
  transactionHash: string;
  address: string;
  data: string;
  topic0: string | null;
  topic1: string | null;
  topic2: string | null;
  topic3: string | null;
  streamId: string;
  tag: string;
  streamType: string;
}

export interface InternalTransaction {
  from: string | null;
  to: string | null;
  value: string | null;
  transactionHash: string;
  gas: string | null;
  streamId: string;
  tag: string;
  streamType: string;
}

export interface Block {
  number: string;
  hash: string;
  timestamp: string;
}

export interface Transaction extends Tags {
  hash: string;
  gas: string | null;
  gasPrice: string | null;
  nonce: string | null;
  input: string | null;
  transactionIndex: string;
  fromAddress: string;
  toAddress: string | null;
  value: string | null;
  type: string | null;
  v: string | null;
  r: string | null;
  s: string | null;
  receiptCumulativeGasUsed: string | null;
  receiptGasUsed: string | null;
  receiptContractAddress: string | null;
  receiptRoot: string | null;
  receiptStatus: string | null;
  streamId: string;
  tag: string;
  streamType: string;
}

export type AbiType = 'function' | 'constructor' | 'event' | 'fallback';
export type StateMutabilityType = 'pure' | 'view' | 'nonpayable' | 'payable';

export interface AbiItem {
  anonymous?: boolean;
  constant?: boolean;
  inputs?: AbiInput[];
  name?: string;
  outputs?: AbiOutput[];
  payable?: boolean;
  stateMutability?: StateMutabilityType;
  type: AbiType;
  gas?: number;
}

export interface AbiInput {
  name: string;
  type: string;
  indexed?: boolean;
  components?: AbiInput[];
  internalType?: string;
}

export interface AbiOutput {
  name: string;
  type: string;
  components?: AbiOutput[];
  internalType?: string;
}

export interface IParser {
  erc20Transfers: IERC20Transfer[];
  erc20Approvals: IERC20Approval[];
  nftTransfers: INFTTransfer[];
  nftApprovals: INFTApproval;
}

export interface IWebhook extends IParser {
  block: Block;
  chainId: string;
  logs: Log[];
  txs: Transaction[];
  txsInternal: InternalTransaction[];
  abis: IAbi;
  retries: number;
  confirmed: boolean;
}

export interface IAbi {
  [key: string]: AbiItem;
}

export interface RootLog {
  transactionHash: string;
  tokenAddress: string;
  logIndex: string;
  tag: string;
}

export interface IERC20TransferDecodeLog {
  from: string;
  to: string;
  value: string;
}

export interface IERC20Transfer extends RootLog, IERC20TransferDecodeLog, IERC20Metadata {}

export interface IERC20ApprovalDecodeLog {
  owner: string;
  spender: string;
  value: string;
}

export interface IERC20Approval extends RootLog, IERC20ApprovalDecodeLog, IERC20Metadata {}

export interface INFTTransfer721DecodeLog {
  from: string;
  to: string;
  tokenId: string;
}

export interface INFTTransfer1155SingleDecodeLog {
  operator: string;
  from: string;
  to: string;
  id: string;
  value: string;
}

export interface INFTTransfer1155BatchDecodeLog {
  operator: string;
  from: string;
  to: string;
  ids: string[];
  values: string[];
}

export interface INFTTransfer extends RootLog, INFTMetadata {
  operator: string | null;
  from: string;
  to: string;
  tokenId: string;
  amount: string;
}

export interface INFTApproval1155DecodeLog {
  account: string;
  operator: string;
  approved: boolean;
}

export interface INFTApprovalERC721 extends RootLog, IERC20ApprovalDecodeLog, INFTMetadata {}

export interface INFTApprovalERC1155 extends RootLog, INFTApproval1155DecodeLog, INFTMetadata {}

export interface INFTApproval {
  ERC721: INFTApprovalERC721[];
  ERC1155: INFTApprovalERC1155[];
}

export interface IERC20Metadata {
  tokenDecimals: string;
  tokenName: string;
  tokenSymbol: string;
  valueWithDecimals?: string;
}

export interface INFTMetadata {
  tokenContractType: string;
  tokenName: string;
  tokenSymbol: string;
}
